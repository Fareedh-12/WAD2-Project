{% extends 'radar/base1.html' %}
{% load staticfiles %}

{% block title_block %}
    Home page
{% endblock %}

{% block body_block %}

<div>
	{% if posts %}
			<div class="row row-cols-1 row-cols-md-3 g-4">
				{% for post in posts %}
				<div class="col">
					<div class="card">
							{% if post.image %}
							<img src="{{post.image.url}}" class="card-img-top" alt="{{ post.title}} image" style = "height: 20em">
							{% else %}
							<!-- show default image -->
							<img src="{{MEDIA_URL}}images/placeholder.png" class="card-img-top" alt="{{ post.title}} image" style="height: 20em">
							{% endif %}
						
						<div class="card-body">
							<h5 class="card-title">{{post.title}}</h5>
							<p class="card-text" style = "overflow:hidden; text-overflow: clip; white-space: nowrap;">{{post.description}}</p>
							<p id = "like_count" class="card-text"><small class="text-muted" name = "{{post.id}}">Likes : {{ post.total_likes }}</small></p>
							<p class="card-text"><small class="text-muted">Views : {{ post.views }}</small></p>
						</div>
						<div class="card-footer">
							<div>
								{% if user.is_authenticated %}
								<button class="like_post_btn btn btn-outline-dark" post-id="{{ post.id }}" type="button" >
									Like </button>
								{% else %}
								<button type="button" class="login_to_like btn btn-outline-dark" >like</button>
								{% endif %}
							</div>

						</div>
					</div>
				</div>
				{% endfor %}
				
			</div>
	{% else %}
	<strong>There are no posts present in your data base.</strong> 
	{% endif %}
</div>

{% endblock %}





